import{S as g}from"./share-list-DtWxP2k4.js";import{_ as u,c,w as r,f as m,o as d,a as o,b as s,V as f,i as n,t as i,d as y,e as V,r as S}from"./index-Cf-_bI7v.js";import{V as _}from"./view-log-list-CehLEICz.js";import"./show-html-B_cz7NtE.js";import"./VCard-Dc1DeU81.js";import"./VSwitch-C00PYh72.js";import"./VSelect-BHIV387k.js";const k={name:"Search",components:{ShareListCom:g},data(){return{shareList:[],page:1,length:0,size:15,total:0,key:""}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.key=this.$route.query.key,this.getShareList()},methods:{setKey(e){this.page=1,this.key=e},deleteShare(e){e&&this.getShareList()},getShareList(){this.httpGet(`/share/list?page=${this.page}&size=${this.size}&key=${encodeURIComponent(this.key)}`,e=>{this.shareList=e.page.content,this.total=e.page.totalElements,this.length=e.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e,key:this.key}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},C={class:"text-center"};function L(e,a,x,v,t,l){const h=S("ShareListCom");return d(),c(m,null,{default:r(()=>[a[1]||(a[1]=o("div",{id:"share-top"},null,-1)),s(y,null,{default:r(()=>[s(f,null,{default:r(()=>[o("span",null,[n("共找到 "+i(t.total)+" 条有关",1),o("strong",null,i(decodeURIComponent(t.key)),1),n(" 的结果， 当前页："+i(t.page),1)])]),_:1})]),_:1}),s(V),s(h,{"share-list":t.shareList,onDelete:l.deleteShare},null,8,["share-list","onDelete"]),o("div",C,[s(_,{color:"blue",modelValue:t.page,"onUpdate:modelValue":[a[0]||(a[0]=p=>t.page=p),l.pageChange],length:t.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const z=u(k,[["render",L]]);export{z as default};
