import{S as v}from"./share-list-B1SOFX3y.js";import{_ as f,c as y,w as n,r as s,o as S,a as o,b as a,f as h,t as i}from"./index-DlhLkz7x.js";const k={name:"Search",components:{ShareListCom:v},data(){return{shareList:[],page:1,length:0,size:15,total:0,key:""}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.key=this.$route.query.key,this.getShareList()},methods:{setKey(e){this.page=1,this.key=e},deleteShare(e){e&&this.getShareList()},getShareList(){this.httpGet(`/share/list?page=${this.page}&size=${this.size}&key=${encodeURIComponent(this.key)}`,e=>{this.shareList=e.page.content,this.total=e.page.totalElements,this.length=e.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e,key:this.key}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},L=a("div",{id:"share-top"},null,-1),C={class:"text-center"};function V(e,r,x,w,t,l){const p=s("v-col"),c=s("v-row"),g=s("v-divider"),u=s("ShareListCom"),_=s("v-pagination"),d=s("v-container");return S(),y(d,{fluid:""},{default:n(()=>[L,o(c,null,{default:n(()=>[o(p,null,{default:n(()=>[a("span",null,[h("共找到 "+i(t.total)+" 条有关",1),a("strong",null,i(decodeURIComponent(t.key)),1),h(" 的结果， 当前页："+i(t.page),1)])]),_:1})]),_:1}),o(g),o(u,{"share-list":t.shareList,onDelete:l.deleteShare},null,8,["share-list","onDelete"]),a("div",C,[o(_,{color:"blue",modelValue:t.page,"onUpdate:modelValue":[r[0]||(r[0]=m=>t.page=m),l.pageChange],length:t.length,"total-visible":7,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const I=f(k,[["render",V]]);export{I as default};
