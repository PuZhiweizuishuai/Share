import{S as v}from"./share-list-B1SOFX3y.js";import{_ as f,c as S,w as l,r as s,o as L,a as o,b as n,t as p}from"./index-DlhLkz7x.js";const w={name:"ShareList",components:{ShareListCom:v},data(){return{shareList:[],page:1,length:0,size:15,total:0,showDelete:!1,deleteData:{data:""},auto:!1,snackbar:!1,message:"删除成功",key:"",sizeItem:[10,15,20,30,40,50,100],interval:()=>null}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.getShareList()},methods:{autoUpdate(){this.auto?this.interval=window.setInterval(()=>{this.getShareList()},1e4):window.clearInterval(this.interval)},deleteShare(e){e&&this.getShareList()},getShareList(){const e=`/share/list?page=${this.page}&size=${this.size}`;this.httpGet(e,t=>{this.shareList=t.page.content,this.total=t.page.totalElements,this.length=t.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},V=n("div",{id:"share-top"},null,-1),C=n("br",null,null,-1),b={class:"text-center"};function y(e,t,x,D,a,i){const h=s("v-col"),u=s("v-switch"),c=s("v-row"),d=s("v-divider"),g=s("ShareListCom"),_=s("v-pagination"),m=s("v-container");return L(),S(m,{fluid:""},{default:l(()=>[V,o(c,null,{default:l(()=>[o(h,null,{default:l(()=>[C,n("span",null,"当前共有 "+p(a.total)+" 条分享，当前页："+p(a.page),1)]),_:1}),o(h,null,{default:l(()=>[o(u,{modelValue:a.auto,"onUpdate:modelValue":t[0]||(t[0]=r=>a.auto=r),style:{float:"right"},label:"自动更新",onChange:i.autoUpdate},null,8,["modelValue","onChange"])]),_:1})]),_:1}),o(d),o(g,{"share-list":a.shareList,onDelete:i.deleteShare},null,8,["share-list","onDelete"]),n("div",b,[o(_,{color:"blue",modelValue:a.page,"onUpdate:modelValue":[t[1]||(t[1]=r=>a.page=r),i.pageChange],length:a.length,"total-visible":7,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const k=f(w,[["render",y]]);export{k as default};
