import{_ as u,c as f,w as t,V as p,o as c,b as e,d as o,e as l,a as m,f as h,j as x,k as r,z as T,t as V}from"./index-C9n_ULeM.js";import{V as g}from"./VCard-5xhk0LXJ.js";import{a as y}from"./VSelect-CODIWhS7.js";const k={data(){return{fileMax:0,snackbar:!1,message:"",editType:0,items:[{text:"Vditor(Markdown)",value:0},{text:"wangEditor(HTML)",value:1}]}},created(){this.getFileMax()},methods:{getFileMax(){fetch("/api/upload/disk",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(s=>s.json()).then(s=>{this.fileMax=s.data.uploadFileMax,this.editType=s.data.editType}).catch(s=>null)},checkNumber(){return!(this.fileMax==null||isNaN(parseInt(this.fileMax)))},settingFileMax(){console.log(this.editType),this.checkNumber()&&fetch("/api/upload/setting/filemax?type=setting",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify({uploadFileMax:this.fileMax,editType:this.editType})}).then(s=>s.json()).then(s=>{this.message=s.message,this.snackbar=!0}).catch(s=>null)}}};function M(s,a,F,N,i,d){return c(),f(p,null,{default:t(()=>[e(o,{justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(g,{class:"mx-auto",outlined:""},{default:t(()=>[e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>a[3]||(a[3]=[m("h2",null,"设置：",-1)])),_:1})]),_:1}),e(h),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(y,{variant:"underlined",modelValue:i.editType,"onUpdate:modelValue":a[0]||(a[0]=n=>i.editType=n),"item-title":"text","item-value":"value",items:i.items,label:"编辑器选择"},null,8,["modelValue","items"])]),_:1}),e(l,{cols:"2"},{default:t(()=>[e(x,{color:"primary",onClick:a[1]||(a[1]=n=>d.settingFileMax())},{default:t(()=>a[4]||(a[4]=[r("修改")])),_:1})]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>a[5]||(a[5]=[r(" wangEditor(HTML) 编辑器的上传功能目前还不够成熟，有待更新！ 注意：修改完成后请刷新浏览器 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(T,{modelValue:i.snackbar,"onUpdate:modelValue":a[2]||(a[2]=n=>i.snackbar=n),timeout:3e3,top:!0},{default:t(()=>[r(V(i.message),1)]),_:1},8,["modelValue"])]),_:1})}const j=u(k,[["render",M]]);export{j as default};
