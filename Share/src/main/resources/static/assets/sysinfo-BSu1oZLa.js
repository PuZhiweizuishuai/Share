import{_ as I,c as p,w as t,r as d,o as _,a as e,f as u,h as j,k as C,F as x,j as w,t as v,b as y}from"./index-oNAIta96.js";const W={data(){return{user:{username:"",password:"",oldPassword:""},snackbar:!1,message:"",ipdata:"",items:[{createUser:"mdi-share",ip:"分享列表"},{createUser:"mdi-file",ip:"文件列表"},{createUser:"mdi-text",ip:"二维码分享"},{createUser:"mdi-lock",ip:"加密解密"},{createUser:"mdi-wrench",ip:"设置"},{createUser:"mdi-help",ip:"关于"}],loginUserInfo:{},showSysInfo:!1}},methods:{userLogin(){this.httpPost("/login",this.user,r=>{r.data!=null&&r.data!=""?(this.loginUserInfo=r.data,this.showSysInfo=!0,this.getWhitelist()):(this.message="登录失败",this.snackbar=!0)})},updatePassword(){this.httpPost("/admin/change/password",this.user,r=>{r.data!=null&&r.data!=""?(this.loginUserInfo=r.data,this.showSysInfo=!1):(this.message="修改失败",this.snackbar=!0)})},addWhitelIP(){this.httpPost("/admin/whitelist/add",this.ipdata,r=>{console.log(r),this.getWhitelist()})},getWhitelist(){this.httpGet("/admin/whitelist",r=>{this.items=r.data})},deleteIP(r){this.httpPost("/admin/whitelist/delete",r,n=>{this.getWhitelist()})}}},S=y("h2",null,"系统配置：",-1),B=y("h2",null,"IP白名单",-1),N=y("h2",null,"修改密码",-1);function L(r,n,F,D,s,c){const l=d("v-col"),o=d("v-row"),m=d("v-divider"),i=d("v-text-field"),f=d("v-btn"),h=d("v-card"),g=d("v-list-item-title"),k=d("v-list-item"),V=d("v-list"),b=d("v-snackbar"),U=d("v-container");return _(),p(U,null,{default:t(()=>[e(o,{justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(h,{class:"mx-auto",outlined:""},{default:t(()=>[e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[S]),_:1})]),_:1}),e(m),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.user.username,"onUpdate:modelValue":n[0]||(n[0]=a=>s.user.username=a),placeholder:"账号",label:"账号",clearable:"",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.user.password,"onUpdate:modelValue":n[1]||(n[1]=a=>s.user.password=a),type:"password",placeholder:"密码",label:"密码",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(f,{onClick:c.userLogin,color:"blue"},{default:t(()=>[u(" 登录 ")]),_:1},8,["onClick"])]),_:1}),e(l)]),_:1})]),_:1})]),_:1}),s.showSysInfo?(_(),p(o,{key:0,justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(h,{class:"mx-auto",outlined:""},{default:t(()=>[e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[B]),_:1})]),_:1}),e(m),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(V,{density:"compact"},{default:t(()=>[(_(!0),j(x,null,C(s.items,(a,P)=>(_(),p(k,{key:P,value:a,color:"primary"},{prepend:t(()=>[e(f,{color:"error",onClick:E=>c.deleteIP(a),style:{"margin-right":"32px"},density:"compact"},{default:t(()=>[u(" 删除 ")]),_:2},1032,["onClick"])]),default:t(()=>[e(g,null,{default:t(()=>[u(v(a.ip)+" - 创建人："+v(a.createUser),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1}),e(m),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.ipdata,"onUpdate:modelValue":n[2]||(n[2]=a=>s.ipdata=a),placeholder:"IP",label:"IP",clearable:"",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"4"},{default:t(()=>[e(f,{onClick:c.getWhitelist},{default:t(()=>[u(" 刷新 ")]),_:1},8,["onClick"])]),_:1}),e(l,{cols:"4"},{default:t(()=>[e(f,{onClick:c.addWhitelIP,color:"green"},{default:t(()=>[u(" 增加 ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(l)]),_:1})]),_:1})]),_:1})):w("",!0),s.showSysInfo?(_(),p(o,{key:1,justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(h,{class:"mx-auto",outlined:""},{default:t(()=>[e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[N]),_:1})]),_:1}),e(m),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.user.username,"onUpdate:modelValue":n[3]||(n[3]=a=>s.user.username=a),placeholder:"账号",label:"账号",clearable:"",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.user.oldPassword,"onUpdate:modelValue":n[4]||(n[4]=a=>s.user.oldPassword=a),type:"password",placeholder:"旧密码",label:"旧密码",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(i,{modelValue:s.user.password,"onUpdate:modelValue":n[5]||(n[5]=a=>s.user.password=a),type:"password",placeholder:"新密码",label:"新密码",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(f,{onClick:c.updatePassword},{default:t(()=>[u(" 修改 ")]),_:1},8,["onClick"])]),_:1}),e(l)]),_:1})]),_:1})]),_:1})):w("",!0),e(b,{modelValue:s.snackbar,"onUpdate:modelValue":n[6]||(n[6]=a=>s.snackbar=a),timeout:3e3,top:!0},{default:t(()=>[u(v(s.message),1)]),_:1},8,["modelValue"])]),_:1})}const T=I(W,[["render",L]]);export{T as default};
