import{S as u}from"./share-list-CuR1ghCD.js";import{_ as d,c as g,w as l,V as m,o as c,a as s,b as n,d as o,t as h,e as f,f as V,r as _}from"./index-BM9dQ_g4.js";import{V as S,a as L}from"./VPagination-DUlpAsWq.js";import"./show-html-DusctlBV.js";import"./VCard-ChEfXFhJ.js";import"./VSelectionControl-D5QOmgeB.js";const C={name:"ShareList",components:{ShareListCom:u},data(){return{shareList:[],page:1,length:0,size:15,total:0,showDelete:!1,deleteData:{data:""},auto:!1,snackbar:!1,message:"删除成功",key:"",sizeItem:[10,15,20,30,40,50,100],interval:()=>null}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.getShareList()},methods:{autoUpdate(){this.auto?this.interval=window.setInterval(()=>{this.getShareList()},1e4):window.clearInterval(this.interval)},deleteShare(e){e&&this.getShareList()},getShareList(){const e=`/share/list?page=${this.page}&size=${this.size}`;this.httpGet(e,t=>{this.shareList=t.page.content,this.total=t.page.totalElements,this.length=t.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},v=o("div",{id:"share-top"},null,-1),w=o("br",null,null,-1),y={class:"text-center"};function x(e,t,b,D,a,i){const p=_("ShareListCom");return c(),g(m,{style:{"padding-top":"0px"}},{default:l(()=>[v,s(f,null,{default:l(()=>[s(n,{style:{"padding-top":"0px"}},{default:l(()=>[w,o("span",null,"当前共有 "+h(a.total)+" 条分享，当前页："+h(a.page),1)]),_:1}),s(n,{style:{"padding-top":"0px"}},{default:l(()=>[s(S,{modelValue:a.auto,"onUpdate:modelValue":t[0]||(t[0]=r=>a.auto=r),style:{float:"right"},color:"primary",label:"自动更新",onChange:i.autoUpdate},null,8,["modelValue","onChange"])]),_:1})]),_:1}),s(V),s(p,{"share-list":a.shareList,onDelete:i.deleteShare},null,8,["share-list","onDelete"]),o("div",y,[s(L,{color:"blue",modelValue:a.page,"onUpdate:modelValue":[t[1]||(t[1]=r=>a.page=r),i.pageChange],length:a.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const B=d(C,[["render",x]]);export{B as default};
