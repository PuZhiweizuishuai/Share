import{S as u}from"./share-list-BRBbX_QU.js";import{_ as g,c as d,w as l,V as m,r as f,o as c,a as o,b as s,d as V,e as n,t as p,f as S}from"./index-C9n_ULeM.js";import{V as L}from"./VSwitch-DVwdF2k8.js";import{V as C}from"./view-log-list-v08uzzT6.js";import"./show-html-BgEM3lMr.js";import"./VCard-5xhk0LXJ.js";import"./VSelect-CODIWhS7.js";const v={name:"ShareList",components:{ShareListCom:u},data(){return{shareList:[],page:1,length:0,size:15,total:0,showDelete:!1,deleteData:{data:""},auto:!1,snackbar:!1,message:"删除成功",key:"",sizeItem:[10,15,20,30,40,50,100],interval:()=>null}},created(){const t=parseInt(this.$route.query.page);isNaN(t)||(t<=0?this.page=1:this.page=t),this.getShareList()},methods:{autoUpdate(){this.auto?this.interval=window.setInterval(()=>{this.getShareList()},1e4):window.clearInterval(this.interval)},deleteShare(t){t&&this.getShareList()},getShareList(){const t=`/share/list?page=${this.page}&size=${this.size}`;this.httpGet(t,e=>{this.shareList=e.page.content,this.total=e.page.page.totalElements,this.length=e.page.page.totalPages})},pageChange(t){this.page=t,this.$router.push({path:this.$router.path,query:{page:t}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},w={class:"text-center"};function y(t,e,_,x,a,r){const h=f("ShareListCom");return c(),d(m,{style:{"padding-top":"0px"}},{default:l(()=>[e[3]||(e[3]=o("div",{id:"share-top"},null,-1)),s(V,null,{default:l(()=>[s(n,{style:{"padding-top":"0px"}},{default:l(()=>[e[2]||(e[2]=o("br",null,null,-1)),o("span",null,"当前共有 "+p(a.total)+" 条分享，当前页："+p(a.page),1)]),_:1}),s(n,{style:{"padding-top":"0px"}},{default:l(()=>[s(L,{modelValue:a.auto,"onUpdate:modelValue":e[0]||(e[0]=i=>a.auto=i),style:{float:"right"},color:"primary",label:"自动更新",onChange:r.autoUpdate},null,8,["modelValue","onChange"])]),_:1})]),_:1}),s(S),s(h,{"share-list":a.shareList,onDelete:r.deleteShare},null,8,["share-list","onDelete"]),o("div",w,[s(C,{color:"blue",modelValue:a.page,"onUpdate:modelValue":[e[1]||(e[1]=i=>a.page=i),r.pageChange],length:a.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const q=g(v,[["render",y]]);export{q as default};
