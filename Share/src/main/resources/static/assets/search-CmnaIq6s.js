import{S as c}from"./share-list-B7Ot2fO7.js";import{_ as g,c as u,w as o,V as d,o as m,a as s,b as _,d as a,S as n,t as r,e as f,f as y,r as S}from"./index-LAgYRP5B.js";import{a as V}from"./VPagination-1fsAtanU.js";import"./show-html-DvOe5WxL.js";import"./VCard-Bnv4al4g.js";import"./VSelectionControl-sPoyr_jY.js";const k={name:"Search",components:{ShareListCom:c},data(){return{shareList:[],page:1,length:0,size:15,total:0,key:""}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.key=this.$route.query.key,this.getShareList()},methods:{setKey(e){this.page=1,this.key=e},deleteShare(e){e&&this.getShareList()},getShareList(){this.httpGet(`/share/list?page=${this.page}&size=${this.size}&key=${encodeURIComponent(this.key)}`,e=>{this.shareList=e.page.content,this.total=e.page.totalElements,this.length=e.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e,key:this.key}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},C=a("div",{id:"share-top"},null,-1),L={class:"text-center"};function x(e,i,v,N,t,l){const h=S("ShareListCom");return m(),u(d,null,{default:o(()=>[C,s(f,null,{default:o(()=>[s(_,null,{default:o(()=>[a("span",null,[n("共找到 "+r(t.total)+" 条有关",1),a("strong",null,r(decodeURIComponent(t.key)),1),n(" 的结果， 当前页："+r(t.page),1)])]),_:1})]),_:1}),s(y),s(h,{"share-list":t.shareList,onDelete:l.deleteShare},null,8,["share-list","onDelete"]),a("div",L,[s(V,{color:"blue",modelValue:t.page,"onUpdate:modelValue":[i[0]||(i[0]=p=>t.page=p),l.pageChange],length:t.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const z=g(k,[["render",x]]);export{z as default};
