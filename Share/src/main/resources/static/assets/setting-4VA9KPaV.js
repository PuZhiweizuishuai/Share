import{_ as u,c,w as t,V as f,o as p,a as e,b as l,e as o,f as m,k as h,i as r,t as x,z as T,d as V}from"./index-eEThDJPZ.js";import{V as g}from"./VCard-Cr7mm8p2.js";import{a as y}from"./VSelect-I7fLT9OC.js";const _={data(){return{fileMax:0,snackbar:!1,message:"",editType:0,items:[{text:"Vditor(Markdown)",value:0},{text:"wangEditor(HTML)",value:1}]}},created(){this.getFileMax()},methods:{getFileMax(){fetch("/api/upload/disk",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(a=>a.json()).then(a=>{this.fileMax=a.data.uploadFileMax,this.editType=a.data.editType}).catch(a=>null)},checkNumber(){return!(this.fileMax==null||isNaN(parseInt(this.fileMax)))},settingFileMax(){console.log(this.editType),this.checkNumber()&&fetch("/api/upload/setting/filemax?type=setting",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify({uploadFileMax:this.fileMax,editType:this.editType})}).then(a=>a.json()).then(a=>{this.message=a.message,this.snackbar=!0}).catch(a=>null)}}},k=V("h2",null,"设置：",-1);function M(a,s,F,N,i,d){return p(),c(f,null,{default:t(()=>[e(o,{justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(g,{class:"mx-auto",outlined:""},{default:t(()=>[e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[k]),_:1})]),_:1}),e(m),e(l),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(y,{variant:"underlined",modelValue:i.editType,"onUpdate:modelValue":s[0]||(s[0]=n=>i.editType=n),"item-title":"text","item-value":"value",items:i.items,label:"编辑器选择"},null,8,["modelValue","items"])]),_:1}),e(l,{cols:"2"},{default:t(()=>[e(h,{color:"primary",onClick:s[1]||(s[1]=n=>d.settingFileMax())},{default:t(()=>[r("修改")]),_:1})]),_:1})]),_:1}),e(o,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[r(" wangEditor(HTML) 编辑器的上传功能目前还不够成熟，有待更新！ 注意：修改完成后请刷新浏览器 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(T,{modelValue:i.snackbar,"onUpdate:modelValue":s[2]||(s[2]=n=>i.snackbar=n),timeout:3e3,top:!0},{default:t(()=>[r(x(i.message),1)]),_:1},8,["modelValue"])]),_:1})}const v=u(_,[["render",M]]);export{v as default};
