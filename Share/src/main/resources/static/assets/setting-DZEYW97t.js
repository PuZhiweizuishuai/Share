import{_ as v,c as x,w as t,r as a,o as T,a as e,f as c,t as g,b as y}from"./index-BHqpIUYW.js";const k={data(){return{fileMax:0,snackbar:!1,message:"",editType:0,items:[{text:"Vditor(Markdown)",value:0},{text:"wangEditor(HTML)",value:1}]}},created(){this.getFileMax()},methods:{getFileMax(){fetch("/api/upload/disk",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"GET",credentials:"include"}).then(n=>n.json()).then(n=>{this.fileMax=n.data.uploadFileMax,this.editType=n.data.editType}).catch(n=>null)},checkNumber(){return!(this.fileMax==null||isNaN(parseInt(this.fileMax)))},settingFileMax(){console.log(this.editType),this.checkNumber()&&fetch("/api/upload/setting/filemax?type=setting",{headers:{"Content-Type":"application/json; charset=UTF-8","X-XSRF-TOKEN":this.$cookies.get("XSRF-TOKEN")},method:"POST",credentials:"include",body:JSON.stringify({uploadFileMax:this.fileMax,editType:this.editType})}).then(n=>n.json()).then(n=>{this.message=n.message,this.snackbar=!0}).catch(n=>null)}}},M=y("h2",null,"设置：",-1);function b(n,s,F,N,o,d){const l=a("v-col"),i=a("v-row"),u=a("v-divider"),p=a("v-select"),_=a("v-btn"),f=a("v-card"),m=a("v-snackbar"),h=a("v-container");return T(),x(h,null,{default:t(()=>[e(i,{justify:"center",align:"center"},{default:t(()=>[e(l,null,{default:t(()=>[e(f,{class:"mx-auto",outlined:""},{default:t(()=>[e(i,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[M]),_:1})]),_:1}),e(u),e(l),e(i,{justify:"center"},{default:t(()=>[e(l,{cols:"8"},{default:t(()=>[e(p,{variant:"underlined",modelValue:o.editType,"onUpdate:modelValue":s[0]||(s[0]=r=>o.editType=r),"item-title":"text","item-value":"value",items:o.items,label:"编辑器选择"},null,8,["modelValue","items"])]),_:1}),e(l,{cols:"2"},{default:t(()=>[e(_,{color:"primary",onClick:s[1]||(s[1]=r=>d.settingFileMax())},{default:t(()=>[c("修改")]),_:1})]),_:1})]),_:1}),e(i,{justify:"center"},{default:t(()=>[e(l,{cols:"10"},{default:t(()=>[c(" wangEditor(HTML) 编辑器的上传功能目前还不够成熟，有待更新！ 注意：修改完成后请刷新浏览器 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{modelValue:o.snackbar,"onUpdate:modelValue":s[2]||(s[2]=r=>o.snackbar=r),timeout:3e3,top:!0},{default:t(()=>[c(g(o.message),1)]),_:1},8,["modelValue"])]),_:1})}const j=v(k,[["render",b]]);export{j as default};
