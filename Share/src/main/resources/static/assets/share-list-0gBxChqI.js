import{_ as v,V as E,o as d,i as w,b as u,E as L,r as n,a as e,c as _,w as t,j as H,F,f as r,t as f}from"./index-9IMFuzPZ.js";const U={name:"ShowMarkdown",props:{markdown:{type:String,default:""},speech:{type:Boolean,default:!0},anchor:{type:Number,default:1}},data(){return{markdownText:this.markdown,speechValue:this.speech,anchorNum:this.anchor}},mounted(){this.previevMarkdown()},updated(){},methods:{previevMarkdown(){E.preview(this.$refs.markdownView,this.markdownText,{cdn:"/vditor",theme:{path:"/vditor/dist/css/content-theme"},speech:{enable:this.speech},emojiPath:"/emoji",anchor:this.anchorNum,markdown:{}})}}},j={ref:"markdownView"};function P(a,o,m,g,l,i){return d(),w("div",null,[u("div",j,null,512)])}const z=v(U,[["render",P]]),A={components:{Editor:L},props:{text:{type:String,default:""}},data(){return{editor:null,html:this.text,toolbarConfig:{},editorConfig:{readOnly:!0},mode:"default"}},mounted(){},beforeDestroy(){const a=this.editor;a!=null&&a.destroy()},methods:{}};function O(a,o,m,g,l,i){const p=n("Editor");return d(),w("div",null,[e(p,{modelValue:l.html,"onUpdate:modelValue":o[0]||(o[0]=c=>l.html=c),style:{"overflow-y":"hidden"},"default-config":l.editorConfig,mode:l.mode},null,8,["modelValue","default-config","mode"])])}const Y=v(A,[["render",O]]),q={name:"ShareList",components:{ShowMarkdown:z,ShowHtml:Y},props:{shareList:{type:Array,default:()=>[]}},data(){return{page:1,length:0,size:15,total:0,showDelete:!1,deleteData:{data:""},auto:!1,snackbar:!1,message:"删除成功",key:"",interval:()=>null}},created(){},methods:{deleteShare(){this.httpPost("/share/delete",this.deleteData,a=>{a.status===200?(this.message="删除成功！",this.snackbar=!0,this.showDelete=!1,this.$emit("delete",!0)):(this.message="删除失败！"+a.message,this.snackbar=!0,this.$emit("delete",!1))})},showDeleteDialog(a){this.deleteData=a,this.showDelete=!0},formateTimeToChinese(a){if(a===""||a==null)return"";const o=new Date(a);return o.getFullYear()+"年"+(o.getMonth()+1)+"月"+o.getDate()+"日 "+o.getHours()+"时"+o.getMinutes()+"分"},subString(){return this.deleteData.data.length>30?this.deleteData.data.substring(0,30)+"......":this.deleteData.data}}},G=["textContent"],I=["textContent"],J=u("br",null,null,-1),K=u("br",null,null,-1);function Q(a,o,m,g,l,i){const p=n("v-list-item-title"),c=n("v-col"),D=n("v-icon"),h=n("v-btn"),k=n("v-row"),x=n("v-card-actions"),S=n("v-divider"),V=n("ShowHtml"),C=n("ShowMarkdown"),b=n("v-card-text"),y=n("v-card"),T=n("v-card-title"),M=n("v-spacer"),$=n("v-dialog"),N=n("v-snackbar"),B=n("v-container");return d(),_(B,null,{default:t(()=>[e(k,null,{default:t(()=>[(d(!0),w(F,null,H(m.shareList,s=>(d(),_(c,{key:s.id,cols:"12"},{default:t(()=>[e(y,null,{default:t(()=>[e(x,{style:{"padding-bottom":"0px","padding-top":"0px"}},{default:t(()=>[e(k,null,{default:t(()=>[e(c,{style:{"padding-bottom":"0px","padding-top":"0px"}},{default:t(()=>[e(p,null,{default:t(()=>[r("创建时间： "),u("span",{textContent:f(i.formateTimeToChinese(s.createTime))},null,8,G)]),_:2},1024)]),_:2},1024),e(c,{style:{"padding-bottom":"0px","padding-top":"0px"}},{default:t(()=>[e(h,{style:{float:"right"},end:"",text:"",small:"",color:"error",onClick:R=>i.showDeleteDialog(s)},{default:t(()=>[e(D,{icon:"mdi-delete"}),r(" 删除 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(S),e(b,null,{default:t(()=>[s.editType==1?(d(),_(V,{key:0,text:s.data},null,8,["text"])):(d(),_(C,{key:1,markdown:s.data,speech:!1},null,8,["markdown"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e($,{modelValue:l.showDelete,"onUpdate:modelValue":o[2]||(o[2]=s=>l.showDelete=s),"max-width":"490"},{default:t(()=>[e(y,null,{default:t(()=>[e(T,{class:"headline"},{default:t(()=>[r("你确定要删除这条分享吗？")]),_:1}),e(b,null,{default:t(()=>[u("span",{textContent:f(i.subString())},null,8,I),r(),J,K,r(" 删除后将无法恢复，请谨慎操作！！！ ")]),_:1}),e(x,null,{default:t(()=>[e(M),e(h,{color:"green darken-1",text:"",onClick:o[0]||(o[0]=s=>l.showDelete=!1)},{default:t(()=>[r(" 放弃 ")]),_:1}),e(h,{color:"error",text:"",onClick:o[1]||(o[1]=s=>i.deleteShare())},{default:t(()=>[r(" 确认 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:l.snackbar,"onUpdate:modelValue":o[3]||(o[3]=s=>l.snackbar=s),color:"success",timeout:3e3,top:!0},{default:t(()=>[r(f(l.message),1)]),_:1},8,["modelValue"])]),_:1})}const X=v(q,[["render",Q]]);export{X as S};
