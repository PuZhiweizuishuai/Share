import{S as g}from"./share-list-BRBbX_QU.js";import{_ as u,c,w as r,V as m,r as d,o as f,a as o,b as s,d as y,e as V,k as n,t as i,f as S}from"./index-C9n_ULeM.js";import{V as k}from"./view-log-list-v08uzzT6.js";import"./show-html-BgEM3lMr.js";import"./VCard-5xhk0LXJ.js";import"./VSwitch-DVwdF2k8.js";import"./VSelect-CODIWhS7.js";const _={name:"Search",components:{ShareListCom:g},data(){return{shareList:[],page:1,length:0,size:15,total:0,key:""}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.key=this.$route.query.key,this.getShareList()},methods:{setKey(e){this.page=1,this.key=e},deleteShare(e){e&&this.getShareList()},getShareList(){this.httpGet(`/share/list?page=${this.page}&size=${this.size}&key=${encodeURIComponent(this.key)}`,e=>{this.shareList=e.page.content,this.total=e.page.page.totalElements,this.length=e.page.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e,key:this.key}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},C={class:"text-center"};function L(e,a,x,v,t,l){const h=d("ShareListCom");return f(),c(m,null,{default:r(()=>[a[1]||(a[1]=o("div",{id:"share-top"},null,-1)),s(y,null,{default:r(()=>[s(V,null,{default:r(()=>[o("span",null,[n("共找到 "+i(t.total)+" 条有关",1),o("strong",null,i(decodeURIComponent(t.key)),1),n(" 的结果， 当前页："+i(t.page),1)])]),_:1})]),_:1}),s(S),s(h,{"share-list":t.shareList,onDelete:l.deleteShare},null,8,["share-list","onDelete"]),o("div",C,[s(k,{color:"blue",modelValue:t.page,"onUpdate:modelValue":[a[0]||(a[0]=p=>t.page=p),l.pageChange],length:t.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const z=u(_,[["render",L]]);export{z as default};
