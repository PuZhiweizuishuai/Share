import{S as p}from"./share-list-B7Ot2fO7.js";import{_ as g,c as d,w as l,V as m,o as c,a as s,b as n,d as o,t as h,e as f,f as V,r as _}from"./index-LAgYRP5B.js";import{V as S,a as L}from"./VPagination-1fsAtanU.js";import"./show-html-DvOe5WxL.js";import"./VCard-Bnv4al4g.js";import"./VSelectionControl-sPoyr_jY.js";const C={name:"ShareList",components:{ShareListCom:p},data(){return{shareList:[],page:1,length:0,size:15,total:0,showDelete:!1,deleteData:{data:""},auto:!1,snackbar:!1,message:"删除成功",key:"",sizeItem:[10,15,20,30,40,50,100],interval:()=>null}},created(){const e=parseInt(this.$route.query.page);isNaN(e)||(e<=0?this.page=1:this.page=e),this.getShareList()},methods:{autoUpdate(){this.auto?this.interval=window.setInterval(()=>{this.getShareList()},1e4):window.clearInterval(this.interval)},deleteShare(e){e&&this.getShareList()},getShareList(){const e=`/share/list?page=${this.page}&size=${this.size}`;this.httpGet(e,t=>{this.shareList=t.page.content,this.total=t.page.totalElements,this.length=t.page.totalPages})},pageChange(e){this.page=e,this.$router.push({path:this.$router.path,query:{page:e}}),this.getShareList(),document.querySelector("#share-top").scrollIntoView()}}},v=o("div",{id:"share-top"},null,-1),w=o("br",null,null,-1),b={class:"text-center"};function y(e,t,D,x,a,r){const u=_("ShareListCom");return c(),d(m,null,{default:l(()=>[v,s(f,null,{default:l(()=>[s(n,null,{default:l(()=>[w,o("span",null,"当前共有 "+h(a.total)+" 条分享，当前页："+h(a.page),1)]),_:1}),s(n,null,{default:l(()=>[s(S,{modelValue:a.auto,"onUpdate:modelValue":t[0]||(t[0]=i=>a.auto=i),style:{float:"right"},label:"自动更新",onChange:r.autoUpdate},null,8,["modelValue","onChange"])]),_:1})]),_:1}),s(V),s(u,{"share-list":a.shareList,onDelete:r.deleteShare},null,8,["share-list","onDelete"]),o("div",b,[s(L,{color:"blue",modelValue:a.page,"onUpdate:modelValue":[t[1]||(t[1]=i=>a.page=i),r.pageChange],length:a.length,"total-visible":5,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])])]),_:1})}const B=g(C,[["render",y]]);export{B as default};
